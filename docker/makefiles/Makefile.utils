.PHONY: remove-base-containers show-env

remove-base-containers:
	@echo "ğŸ›‘ Removing base and runtime containers..."
	@docker compose -f docker-compose.base.yml rm -f base runtime || true

show-env:
	@if [ -f $(LAST_ENV_FILE) ]; then \
		echo "ğŸŒ Active environment:"; \
		cat $(LAST_ENV_FILE); \
	else \
		echo "âŒ No active environment found."; \
	fi;

.PHONY: docker-ps docker-images docker-volumes docker-networks

docker-ps:
	@echo "ğŸ“‹ Listing running containers..."
	@docker ps --format "table {{.ID}}\t{{.Names}}\t{{.Status}}\t{{.Ports}}"

docker-images:
	@echo "ğŸ–¼ï¸ Listing Docker images..."
	@docker images --format "table {{.Repository}}\t{{.Tag}}\t{{.Size}}"

docker-volumes:
	@echo "ğŸ“¦ Listing Docker volumes..."
	@docker volume ls

docker-networks:
	@echo "ğŸŒ Listing Docker networks..."
	@docker network ls

.PHONY: prune-docker

prune-docker:
	@echo "ğŸ”¥ Removing unused Docker objects..."
	@docker system prune -af
	@docker volume prune -f
	@docker network prune -f
